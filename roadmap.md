# Ошибки в программе


## Обработчики запросов

Каждый HTTP‐метод обрабатывает отдельный класс. Например, метод GET обрабатывае IHttpGetProcessor.

Эти обработчики регистрируются заранее в сервере, в файлах конфигурации или ещё где.

При поступлении запроса сервер проверяет метод и вызывает функцию соответствующего обработчика.

Нужно ли поддерживать разных обработчиков для разных ресурсов? Например, разные обработчики для `GET /foo` и `GET /bar`? Наверное, надо. А для версии протокола? Или абстрагировать версию, чтобы обработчики действовали независимо.


## Утечка памяти

Исправлен неверный подсчёт количества выделений памяти, из‐за чего показывалось неверное сообщение об утечке.


## Собирать лог

Как собирать лог, чтобы он не пересекался с другим потоком? Сервер создаёт объекты, которые пишут информацию в лог. Варианты:

* отдельный объект логирования для каждого потока;
* вывод на консоль один раз: когда отправлен ответ.


## Рефракторинг

Класс WebServer. Что там за объект pINetworkStream и почему его необходимо каждый раз закрывать после соединения с пользователем.

Файл Read.Me изменить так. Оставить только общую информацию, перевести на «международный язык», остальное отправить в другой файл или на вики по вебсерверу.

Настройки сайта: разделить путь wwwroot на две части. 1. Собственно wwwroot с файлами сайта. 2. Путь к конфигурации сайта. Это разрешит отправлять любой файл из wwwroot, даже если у него нет зарегистрированного MIME.